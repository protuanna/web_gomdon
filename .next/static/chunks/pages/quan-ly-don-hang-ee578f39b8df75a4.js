(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{5010:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quan-ly-don-hang",function(){return t(2217)}])},138:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var a=t(5893),s=t(6460);function i(){return(0,a.jsx)("div",{children:(0,a.jsx)("div",{style:{width:"100%",height:"100vh",textAlign:"center",verticalAlign:"middle"},children:(0,a.jsx)(s.Nx,{width:"200",color:"#ed1c2a"})})})}},2217:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return g},default:function(){return N}});var a=t(7568),s=t(1799),i=t(9396),c=t(4051),r=t.n(c),l=t(5893),d=t(6151),h=t(138),o=t(7294),u=t(286),m=t(4215),v=t(3314),p=t(3299),x=t(1163),f=t(1664),j=t.n(f),g=!0;function N(e){var n=e.search,t=function(e){var n=e?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),1)},c=function(e){var n=e?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth()+1,0)},f=function(e){var n=new Date(e),t=("0"+n.getDate()).slice(-2),a=("0"+(n.getMonth()+1)).slice(-2),s=n.getFullYear(),i=("0"+n.getHours()).slice(-2),c=("0"+n.getMinutes()).slice(-2),r=("0"+n.getSeconds()).slice(-2);return"".concat(t,"/").concat(a,"/").concat(s,", ").concat(i,":").concat(c,":").concat(r)},g=function(e){var n=new Date(e),t=("0"+n.getDate()).slice(-2),a=("0"+(n.getMonth()+1)).slice(-2),s=n.getFullYear().toString().substr(-2);return"".concat(t,"/").concat(a,"/").concat(s)},N=(0,p.useSession)(),w=(N.data,N.status),y=(0,x.useRouter)();"unauthenticated"===w&&y.push("/login");var _=(0,o.useState)(!1),b=_[0],Z=_[1],k=(0,o.useState)(!1),D=k[0],H=k[1],C=(0,o.useRef)(null),E=((0,o.useRef)(null),(0,o.useState)(0)),S=E[0],V=E[1],M=(0,o.useState)(!1),I=M[0],T=M[1],A=(0,o.useState)([]),L=(A[0],A[1]),F=(0,o.useState)(1),O=F[0],R=F[1],Y=(0,o.useState)({page:1,type:1,orderId:n,day:"week",status:0}),B=Y[0],P=Y[1],X=(0,o.useState)(0),q=(X[0],X[1]),z=(0,o.useState)([]),G=z[0],K=z[1],Q=(0,o.useState)({1:"T\u1ea1o m\u1edbi",2:"H\u1ee7y",3:"\u0110\xe3 l\u1ea5y h\xe0ng",4:"\u0110ang v\u1eadn chuy\u1ec3n",5:"\u0110ang giao h\xe0ng",6:"\u0110ang chuy\u1ec3n ho\xe0n",7:"\u0110\xe3 giao h\xe0ng",8:"\u0110\xe3 tr\u1ea3 h\xe0ng",9:"Ki\u1ec7n v\u1ea5n \u0111\u1ec1",10:"L\u1ea5y h\xe0ng th\u1ea5t b\u1ea1i"}),J=Q[0],U=(Q[1],(0,o.useState)([{startDate:new Date,endDate:new Date,key:"selection"}])),W=U[0],$=U[1];function ee(){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.Z)(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.innerHeight+document.documentElement.scrollTop>=document.scrollingElement.scrollHeight&&(n=document.getElementById("load_more"))&&n.click();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return te=(0,a.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=setTimeout((function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{orderId:n,page:1})}))}),500),e.abrupt("return",(function(){return clearTimeout(t)}));case 2:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ae(){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={page:B.page,type:1===B.type?"1,3":"2",limit:30},""!==B.orderId&&(n.search=B.orderId),0!==B.status&&(n.status=B.status),e.t0=B.day,e.next="day"===e.t0?6:"week"===e.t0?9:"month"===e.t0?12:15;break;case 6:return n.start_time=parseInt((new Date).setHours(0,0,0,0)/1e3),n.end_time=n.start_time+86400,e.abrupt("break",17);case 9:return n.end_time=parseInt(new Date/1e3),n.start_time=n.end_time-604800,e.abrupt("break",17);case 12:return n.start_time=parseInt(t().setHours(0,0,0,0)/1e3),n.end_time=parseInt(c().setHours(0,0,0,0)/1e3)+86400,e.abrupt("break",17);case 15:n.start_time=parseInt(new Date(W[0].startDate).setHours(0,0,0,0)/1e3),n.end_time=parseInt(new Date(W[0].endDate).setHours(23,59,59,0)/1e3);case 17:return e.next=19,(0,v.hG)(n);case 19:return a=e.sent,e.abrupt("return",a);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((0,a.Z)(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(B.page<=O)){e.next=6;break}return 1===B.page&&T(!0),e.next=4,ae();case 4:!0===(n=e.sent).result&&(q(n.meta.total),1===n.meta.current_page?(K(n.data),T(!1)):K(G.concat(n.data)),R(n.meta.last_page));case 6:case"end":return e.stop()}}),e)}))),[B]),(0,o.useEffect)((function(){var e=function(e){C.current&&!C.current.contains(e.target)&&(Z(!1),H(!1))};if(b||D)return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[b,D]),(0,o.useEffect)((function(){window.addEventListener("scroll",ee)}),[]),(0,o.useEffect)((function(){console.log(W)}),[W]);var ie=[];G.length>0?G.forEach((function(e,n){ie.push((0,l.jsx)(j(),{href:"/chi-tiet-don-hang?id="+e.id,children:(0,l.jsx)("a",{href:"",title:"",children:(0,l.jsxs)("div",{className:"item_single",children:[(0,l.jsx)("div",{className:"new new_"+e.status,children:J[e.status]}),(0,l.jsxs)("h5",{className:"title16",children:["M\xe3 v\u1eadn \u0111\u01a1n: ",e.partner_code]}),(0,l.jsxs)("div",{className:"tp_to",children:[(0,l.jsxs)("div",{className:"honest",children:[(0,l.jsx)("div",{className:"name",children:e.source_name}),(0,l.jsx)("div",{className:"city",children:e.source_province})]}),(0,l.jsx)("span",{children:"-----\x3e"}),(0,l.jsxs)("div",{className:"honest",children:[(0,l.jsx)("div",{className:"name",children:e.dest_name}),(0,l.jsx)("div",{className:"city",children:e.dest_province})]})]}),(0,l.jsxs)("p",{className:"title15 bold",children:[e.source_district," [",e.source_name,"], \u0110\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn [",e.dest_name,"]"]}),(0,l.jsxs)("p",{className:"title12",children:["Th\u1eddi gian t\u1ea1o \u0111\u01a1n ",f(e.created_at)]}),(0,l.jsxs)("p",{className:"title12",children:["Th\u1eddi gian c\u1eadp nh\u1eadt ",f(e.updated_at)]})]})})},e.id))})):ie=(0,l.jsx)("div",{style:{textAlign:"center"},children:"Danh s\xe1ch tr\u1ed1ng"}),!0===I&&(ie=(0,l.jsx)(h.Z,{}));var ce=[];return Object.keys(J).forEach((function(e){ce.push((0,l.jsx)("li",{onClick:function(){return V(S===e?0:e)},className:S===e?"active":"",children:(0,l.jsx)("label",{children:(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:J[e]})})})},e))})),(0,o.useEffect)((function(){var e=[];Object.keys(J).forEach((function(n){e.push((0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:n,checked:S===n,onChange:function(){V(n)}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:J[n]})})]})},n))})),L(e)}),[S]),(0,l.jsx)("div",{id:"main",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"contents",children:[(0,l.jsxs)("div",{className:"head_col",children:[(0,l.jsxs)("div",{className:"head_title",children:[(0,l.jsx)("h3",{className:"title18",children:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng"}),(0,l.jsxs)("div",{className:"profil_col3_locsanpham",children:[(0,l.jsx)("div",{className:"fill-wrapper rotate-menu",onClick:function(){return Z(!b)},children:(0,l.jsx)("div",{className:"filter",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",className:"bi bi-funnel",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"})})})}),(0,l.jsx)("div",{ref:C,className:b?"main_fill open":"main_fill",children:(0,l.jsx)("div",{className:"tabel",children:(0,l.jsx)("div",{className:"list-danhmuc",children:(0,l.jsxs)("div",{className:"label wow fadeInLeft","data-wow-delay":"0.3s",children:[(0,l.jsx)("label",{className:"danhmuc-sp active",htmlFor:"show_01",children:(0,l.jsx)("div",{className:"item_title",children:(0,l.jsx)("h3",{className:"",children:"Tr\u1ea1ng th\xe1i"})})}),(0,l.jsxs)("div",{className:"item_fields",children:[(0,l.jsx)("ul",{className:"extra",children:ce}),(0,l.jsxs)("div",{className:"item-btn",children:[(0,l.jsx)("button",{className:"butt",onClick:function(){Z(!1),V(0),P((function(e){return(0,i.Z)((0,s.Z)({},e),{status:0,page:1})}))},children:(0,l.jsx)("span",{children:"\u0110\u1eb7t l\u1ea1i"})}),(0,l.jsx)("button",{className:"butt active",onClick:function(){Z(!1),P((function(e){return(0,i.Z)((0,s.Z)({},e),{status:S,page:1})}))},children:(0,l.jsx)("span",{children:"X\xe1c nh\u1eadn"})})]})]})]})})})})]})]}),(0,l.jsxs)("div",{className:"pws-list",children:[(0,l.jsx)("div",{style:{cursor:"pointer"},onClick:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{type:1,page:1})}))},title:"",className:1===B.type?"title15 pws-title active":"title15 pws-title",children:"H\xe0ng g\u1eedi"}),(0,l.jsx)("div",{style:{cursor:"pointer"},onClick:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{type:2,page:1})}))},title:"",className:2===B.type?"title15 pws-title active":"title15 pws-title",children:"H\xe0ng nh\u1eadn"})]})]}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"ranle",children:[(0,l.jsxs)("div",{className:"item_search",children:[(0,l.jsx)("div",{className:"search",id:"search",children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-qr-code-scan",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM4 4h1v1H4V4Z"}),(0,l.jsx)("path",{d:"M7 2H2v5h5V2ZM3 3h3v3H3V3Zm2 8H4v1h1v-1Z"}),(0,l.jsx)("path",{d:"M7 9H2v5h5V9Zm-4 1h3v3H3v-3Zm8-6h1v1h-1V4Z"}),(0,l.jsx)("path",{d:"M9 2h5v5H9V2Zm1 1v3h3V3h-3ZM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8Zm2 2H9V9h1v1Zm4 2h-1v1h-2v1h3v-2Zm-4 2v-1H8v1h2Z"}),(0,l.jsx)("path",{d:"M12 9h2V8h-2v1Z"})]}),(0,l.jsx)("input",{type:"text",id:"txt_search",onChange:function(e){!function(e){te.apply(this,arguments)}(e.target.value)},defaultValue:B.orderId,placeholder:"Tra c\u1ee9u \u0111\u01a1n h\xe0ng"})]})}),(0,l.jsxs)("ul",{className:"extra",children:[(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"day",checked:"day"===B.day,onChange:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{day:"day",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"H\xf4m nay"})})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"week",checked:"week"===B.day,onChange:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{day:"week",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"Tu\u1ea7n g\u1ea7n nh\u1ea5t"})})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"month",checked:"month"===B.day,onChange:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{day:"month",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"Th\xe1ng g\u1ea7n nh\u1ea5t"})})]})}),(0,l.jsxs)("li",{style:{position:"relative"},children:[(0,l.jsx)("label",{children:(0,l.jsx)("div",{className:"day"===B.day||"week"===B.day||"month"===B.day?"item-dm":"item-dm active",onClick:function(){H(!D)},children:(0,l.jsx)("p",{className:"",children:"day"===B.day||"week"===B.day||"month"===B.day?"Ch\u1ecdn ng\xe0y":B.day})})}),(0,l.jsxs)("div",{ref:C,className:D?"cal-box open":"cal-box",children:[(0,l.jsx)(u.C0,{onChange:function(e){return $([e.selection])},moveRangeOnFirstSelection:!1,showDateDisplay:!1,ranges:W,locale:m.Z}),(0,l.jsx)("div",{className:"btn-select-cal",onClick:function(){return function(){H(!1);var e=g(W[0].startDate)+" - "+g(W[0].endDate);P((function(n){return(0,i.Z)((0,s.Z)({},n),{day:e,page:1})}))}()},children:"Ch\u1ecdn"})]})]})]})]}),(0,l.jsx)("div",{className:"pro_col9_sanpham",children:(0,l.jsxs)("div",{className:"list_single_code",children:[ie,(0,l.jsx)("div",{style:{display:"none"},id:"load_more",onClick:function(){P((function(e){return(0,i.Z)((0,s.Z)({},e),{page:B.page+1})}))},children:"new page"})]})})]})}),(0,l.jsx)("div",{className:"Group_cancel",children:(0,l.jsx)("div",{className:"btn_print",children:(0,l.jsx)(j(),{href:"/in-don-hang",children:(0,l.jsx)("button",{className:"butt active",children:(0,l.jsx)("span",{children:"In s\u1ed1 l\u01b0\u1ee3ng l\u1edbn"})})})})}),(0,l.jsx)(d.Z,{})]})})})}}},function(e){e.O(0,[197,876,217,460,943,551,774,888,179],(function(){return n=5010,e(e.s=n);var n}));var n=e.O();_N_E=n}]);