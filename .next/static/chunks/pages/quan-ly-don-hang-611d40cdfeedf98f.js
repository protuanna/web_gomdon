(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{5010:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quan-ly-don-hang",function(){return t(2217)}])},2217:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var s=t(7568),a=t(1799),i=t(9396),c=t(655),l=t(5893),r=t(6151),d=t(7294),h=t(3314),o=t(3299),u=t(1163),m=t(1664),v=t.n(m),g=t(9937);function p(){var e=function(e){var n=e?new Date(e):new Date,t=n.getDay(),s=n.getDate()-t+(0===t?-6:1);return new Date(n.setDate(s))},n=function(e){var n=e?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth(),1)},t=function(e){var n=e?new Date(e):new Date;return new Date(n.getFullYear(),n.getMonth()+1,0)},m=function(e){var n=new Date(e),t=("0"+n.getDate()).slice(-2),s=("0"+(n.getMonth()+1)).slice(-2),a=n.getFullYear(),i=("0"+n.getHours()).slice(-2),c=("0"+n.getMinutes()).slice(-2),l=("0"+n.getSeconds()).slice(-2);return"".concat(t,"/").concat(s,"/").concat(a,", ").concat(i,":").concat(c,":").concat(l)},p=(0,o.useSession)(),x=(p.data,p.status),j=(0,u.useRouter)();"unauthenticated"===x&&j.push("/login");var f=(0,d.useState)(!1),N=f[0],_=f[1],w=(0,d.useRef)(null),y=(0,d.useState)(0),b=y[0],Z=y[1],k=(0,d.useState)([]),H=(k[0],k[1]),D=(0,d.useState)(1),E=D[0],C=D[1],V=(0,d.useState)({page:1,type:1,orderId:"",day:"week",status:0}),M=V[0],S=V[1],I=(0,d.useState)(0),T=(I[0],I[1]),L=(0,d.useState)([]),A=L[0],B=L[1],F=(0,d.useState)({1:"T\u1ea1o m\u1edbi",2:"H\u1ee7y",3:"\u0110\xe3 l\u1ea5y h\xe0ng",4:"\u0110ang v\u1eadn chuy\u1ec3n",5:"\u0110ang giao h\xe0ng",6:"\u0110ang chuy\u1ec3n ho\xe0n",7:"\u0110\xe3 giao h\xe0ng",8:"\u0110\xe3 tr\u1ea3 h\xe0ng",9:"Ki\u1ec7n v\u1ea5n \u0111\u1ec1",10:"L\u1ea5y h\xe0ng th\u1ea5t b\u1ea1i"}),O=F[0],X=(F[1],(0,d.useState)([{label:"T\u1ea1o m\u1edbi",status:1,color:"red"},{label:"H\u1ee7y",status:2,color:"red"},{label:"\u0110\xe3 l\u1ea5y h\xe0ng",status:3,color:"red"},{label:"\u0110ang v\u1eadn chuy\u1ec3n",status:4,color:"red"},{label:"\u0110ang giao h\xe0ng",status:5,color:"red"},{label:"\u0110ang chuy\u1ec3n ho\xe0n",status:6,color:"red"},{label:"\u0110\xe3 giao h\xe0ng",status:7,color:"red"},{label:"\u0110\xe3 tr\u1ea3 h\xe0ng",status:8,color:"red"},{label:"Ki\u1ec7n v\u1ea5n \u0111\u1ec1",status:9,color:"red"},{label:"\u0110\u01a1n l\u1ea5y h\xe0ng th\u1ea5t b\u1ea1i",status:10,color:"red"}]));X[0],X[1];function Y(){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(n){return window.innerHeight+document.documentElement.scrollTop>=document.scrollingElement.scrollHeight&&(e=document.getElementById("load_more"))&&e.click(),[2]}))}))).apply(this,arguments)}function z(){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)((function(){var s;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return s={page:M.page,type:1===M.type?"1,3":"2",limit:30},""!==M.orderId&&(s.id=M.orderId),0!==M.status&&(s.status=M.status),"day"===M.day&&(s.start_time=parseInt((new Date).setHours(0,0,0,0)/1e3),s.end_time=s.start_time+86400),"week"===M.day&&(s.start_time=parseInt(e().setHours(0,0,0,0)/1e3),s.end_time=s.start_time+604800),"month"===M.day&&(s.start_time=parseInt(n().setHours(0,0,0,0)/1e3),s.end_time=parseInt(t().setHours(0,0,0,0)/1e3)+86400),g.console.log(s),[4,(0,h.hG)(s)];case 1:return[2,a.sent()]}}))}))).apply(this,arguments)}(0,d.useEffect)((0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return M.page<=E?[4,z()]:[3,2];case 1:!0===(e=n.sent()).result&&(T(e.meta.total),1===e.meta.current_page?B(e.data):B(A.concat(e.data)),C(e.meta.last_page)),n.label=2;case 2:return[2]}}))})),[M]),(0,d.useEffect)((function(){var e=function(e){w.current&&!w.current.contains(e.target)&&_(!1)};if(N)return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[N]),(0,d.useEffect)((function(){window.addEventListener("scroll",Y)}),[]);var P=[];A.length>0?A.forEach((function(e,n){P.push((0,l.jsx)(v(),{href:"/chi-tiet-don-hang?id="+e.id,children:(0,l.jsx)("a",{href:"",title:"",children:(0,l.jsxs)("div",{className:"item_single",children:[(0,l.jsx)("div",{className:"new new_"+e.status,children:O[e.status]}),(0,l.jsxs)("h5",{className:"title16",children:["M\xe3 v\u1eadn \u0111\u01a1n: ",e.partner_code]}),(0,l.jsxs)("div",{className:"tp_to",children:[(0,l.jsxs)("div",{className:"honest",children:[(0,l.jsx)("div",{className:"name",children:e.source_name}),(0,l.jsx)("div",{className:"city",children:e.source_province})]}),(0,l.jsx)("span",{children:"-----\x3e"}),(0,l.jsxs)("div",{className:"honest",children:[(0,l.jsx)("div",{className:"name",children:e.dest_name}),(0,l.jsx)("div",{className:"city",children:e.dest_province})]})]}),(0,l.jsxs)("p",{className:"title15 bold",children:[e.source_district," [",e.source_name,"], \u0110\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn [",e.dest_name,"]"]}),(0,l.jsxs)("p",{className:"title12",children:["Th\u1eddi gian t\u1ea1o \u0111\u01a1n ",m(e.created_at)]}),(0,l.jsxs)("p",{className:"title12",children:["Th\u1eddi gian c\u1eadp nh\u1eadt ",m(e.updated_at)]})]})})}))})):P=(0,l.jsx)("div",{style:{textAlign:"center"},children:"Danh s\xe1ch tr\u1ed1ng"}),g.console.log(P);var R=[];return Object.keys(O).forEach((function(e){R.push((0,l.jsx)("li",{onClick:function(){return Z(b===e?0:e)},className:b===e?"active":"",children:(0,l.jsx)("label",{children:(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:O[e]})})})}))})),(0,d.useEffect)((function(){g.console.log(b,"34343");var e=[];Object.keys(O).forEach((function(n){e.push((0,l.jsx)("li",{onClick:function(){return g.console.log("click")},children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:n,checked:b===n,onChange:function(){g.console.log(n),Z(n)}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:O[n]})})]})}))})),H(e)}),[b]),(0,l.jsx)("div",{id:"main",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"contents",children:[(0,l.jsxs)("div",{className:"head_col",children:[(0,l.jsxs)("div",{className:"head_title",children:[(0,l.jsx)("h3",{className:"title18",children:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng"}),(0,l.jsxs)("div",{className:"profil_col3_locsanpham",children:[(0,l.jsx)("div",{className:"fill-wrapper rotate-menu",onClick:function(){return _(!N)},children:(0,l.jsx)("div",{className:"filter",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",className:"bi bi-funnel",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"})})})}),(0,l.jsx)("div",{ref:w,className:N?"main_fill open":"main_fill",children:(0,l.jsx)("div",{className:"tabel",children:(0,l.jsx)("div",{className:"list-danhmuc",children:(0,l.jsxs)("div",{className:"label wow fadeInLeft","data-wow-delay":"0.3s",children:[(0,l.jsx)("label",{className:"danhmuc-sp active",htmlFor:"show_01",children:(0,l.jsx)("div",{className:"item_title",children:(0,l.jsx)("h3",{className:"",children:"Tr\u1ea1ng th\xe1i"})})}),(0,l.jsx)("input",{id:"show_01",className:"show_form",name:"",type:"checkbox",checked:"checkbox"}),(0,l.jsxs)("div",{className:"item_fields",children:[(0,l.jsx)("ul",{className:"extra",children:R}),(0,l.jsxs)("div",{className:"item-btn",children:[(0,l.jsx)("button",{className:"butt",onClick:function(){_(!1),Z(0),S((function(e){return(0,i.Z)((0,a.Z)({},e),{status:0,page:1})}))},children:(0,l.jsx)("span",{children:"\u0110\u1eb7t l\u1ea1i"})}),(0,l.jsx)("button",{className:"butt active",onClick:function(){_(!1),S((function(e){return(0,i.Z)((0,a.Z)({},e),{status:b,page:1})}))},children:(0,l.jsx)("span",{children:"X\xe1c nh\u1eadn"})})]})]})]})})})})]})]}),(0,l.jsxs)("div",{className:"pws-list",children:[(0,l.jsx)("a",{href:"javascript:void(0)",onClick:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{type:1,page:1})}))},title:"",className:1===M.type?"title15 pws-title active":"title15 pws-title",children:"H\xe0ng g\u1eedi"}),(0,l.jsx)("a",{href:"javascript:void(0)",onClick:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{type:2,page:1})}))},title:"",className:2===M.type?"title15 pws-title active":"title15 pws-title",children:"H\xe0ng nh\u1eadn"})]})]}),(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"ranle",children:[(0,l.jsxs)("div",{className:"item_search",children:[(0,l.jsx)("div",{className:"search",id:"search",children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g.console.log("333");var n=document.getElementById("txt_search").value;S((function(e){return(0,i.Z)((0,a.Z)({},e),{orderId:n,page:1})}))},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-qr-code-scan",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM4 4h1v1H4V4Z"}),(0,l.jsx)("path",{d:"M7 2H2v5h5V2ZM3 3h3v3H3V3Zm2 8H4v1h1v-1Z"}),(0,l.jsx)("path",{d:"M7 9H2v5h5V9Zm-4 1h3v3H3v-3Zm8-6h1v1h-1V4Z"}),(0,l.jsx)("path",{d:"M9 2h5v5H9V2Zm1 1v3h3V3h-3ZM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8Zm2 2H9V9h1v1Zm4 2h-1v1h-2v1h3v-2Zm-4 2v-1H8v1h2Z"}),(0,l.jsx)("path",{d:"M12 9h2V8h-2v1Z"})]}),(0,l.jsx)("input",{type:"text",id:"txt_search",placeholder:"Tra c\u1ee9u m\xe3 \u0111\u01a1n h\xe0ng / m\xe3 v\u1eadn \u0111\u01a1n"})]})}),(0,l.jsxs)("ul",{className:"extra",children:[(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"day",checked:"day"===M.day,onChange:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{day:"day",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"H\xf4m nay"})})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"week",checked:"week"===M.day,onChange:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{day:"week",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"Tu\u1ea7n g\u1ea7n nh\u1ea5t"})})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{className:"Dashboard",name:"clothing",type:"radio",value:"month",checked:"month"===M.day,onChange:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{day:"month",page:1})}))}}),(0,l.jsx)("div",{className:"item-dm",children:(0,l.jsx)("p",{className:"",children:"Th\xe1ng g\u1ea7n nh\u1ea5t"})})]})})]})]}),(0,l.jsx)("div",{className:"pro_col9_sanpham",children:(0,l.jsxs)("div",{className:"list_single_code",children:[P,(0,l.jsx)("div",{style:{display:"none"},id:"load_more",onClick:function(){S((function(e){return(0,i.Z)((0,a.Z)({},e),{page:M.page+1})}))},children:"new page"})]})})]})}),(0,l.jsx)(r.Z,{})]})})})}}},function(e){e.O(0,[424,217,870,551,774,888,179],(function(){return n=5010,e(e.s=n);var n}));var n=e.O();_N_E=n}]);